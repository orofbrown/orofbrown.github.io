(this["webpackJsonpreact-context"]=this["webpackJsonpreact-context"]||[]).push([[0],{38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(28),c=n.n(i),o=(n(38),n(20)),s=n(31),d=n(5),l=n(50),u=n(30),g=n(14),h={light:"#fff",main:"#f2f2f2",dark:"#999"},f={light:"#666",main:"#4d4d4d",dark:"#333",contrastText:h.main},b=["#f2f2f2","#e5e5e5","#999","#666","#4d4d4d","#333","#000"],p={oranges:{light:"#f6a683",main:"#f26c32",dark:"#b14f25",contrastText:h.main},darkShades:f,lightShades:h,blues:{light:"#9cdaee",main:"#00b2e2",dark:"#007797"},greens:{light:"#b6e8cb",main:"#49c57e",dark:"#36905c"},yellows:{light:"#fd37a8",main:"#ffc82b",dark:"bb9320"},lightOranges:{light:"#fcd4b5",main:"#fe9646",dark:"#ba6e33"},reds:{light:"#f49c92",main:"#ef5b4b",dark:"#af4337"},teals:{light:"#b2dfdb",main:"#36c8b5",dark:"#289385",contrastText:f.dark},lightGrays:{light:b[1],main:b[2],dark:b[6]}},m={palette:{primary:p.oranges,secondary:p.teals,error:p.reds,grey:{50:b[0],100:b[1],400:b[2],600:b[3],700:b[4],800:b[5]},text:{primary:p.darkShades.main,secondary:p.darkShades.dark,disabled:p.lightGrays.main,hint:p.lightGrays.light},background:{default:p.lightShades.main,paper:p.lightShades.light},type:"light"}},j={palette:{primary:p.oranges,secondary:p.lightShades,error:p.reds,grey:{50:b[0],100:b[1],400:b[2],600:b[3],700:b[4],800:b[5]},text:{primary:p.lightShades.light,secondary:p.lightShades.main,disabled:p.lightGrays.main,hint:p.lightGrays.light},background:{default:p.darkShades.dark,paper:p.darkShades.main},type:"dark"}},x={fontSize:20},O=n.p+"static/media/pokeball.a508475f.png",k=n(3),y=Object(g.a)(Object(g.a)({},j),{},{spacing:8,text:x,logo:O}),v=a.a.createContext({dispatch:function(){},state:y});function w(e,t){switch(t){case"light":return Object(g.a)(Object(g.a)({},m),{},{logo:O,spacing:8,text:x});default:return y}}function S(e){var t=e.children,n=a.a.useReducer(w,y),r=Object(o.a)(n,2),i=r[0],c={dispatch:r[1],state:i};return Object(k.jsx)(v.Provider,{value:c,children:t})}function C(){var e=a.a.useContext(v);if(!e)throw new Error("useAccess must be used within a AccessProvider");return e}var P=n(49),L=n(51),B=n(29);function R(){return fetch("https://pokeapi.co/api/v2/item/poke-ball").then((function(e){return e.json()}))}function T(e){var t=e.pageParam;return fetch("https://pokeapi.co/api/v2/pokemon?offset=".concat(void 0===t?0:t,"&limit=66")).then((function(e){return e.json()}))}var E=window.innerWidth<=480,F=function(e){e.palette;var t=e.spacing,n=E?112:128,r=E?45:60;return{grid:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:E?0:2*t},card:{alignItems:"flex-end",backgroundColor:"#555",backgroundPositionX:"center",backgroundRepeat:"no-repeat",border:"2px solid ".concat("#222"),display:"flex",imageRendering:"pixelated",justifyContent:"center",height:n,lineBreak:"normal",margin:t/2,width:n},name:{backgroundColor:"#888",borderTop:"2px solid ".concat("#aaa"),padding:t,width:"100%"},spinner:{animationDuration:"1s",animationIterationCount:"infinite",animationName:"rotateBall",animationDirection:"forwards",transformOrigin:"center center",height:r,imageRendering:"pixelated",margin:2*t,marginBottom:3*t,width:r}}},I=function(e){var t=e.error;return Object(k.jsxs)("div",{children:["Error: ",t.message]})},G=function(){return Object(k.jsx)("div",{children:"Loading..."})},N=function(){return Object(k.jsx)("div",{style:{marginTop:32,marginBottom:64}})};function W(e){var t=e.resource,n=F(C().state),r=Object(P.a)(t.url,(function(){return e=t.url,fetch(e).then((function(e){return e.json()}));var e})),a=r.isLoading,i=r.error,c=r.data;if(i)return Object(k.jsx)(I,{error:i});var o=c,s=o?o.name.replace(/^\w/,(function(e){return e.toUpperCase()})):"";return Object(k.jsx)("section",{style:Object(g.a)(Object(g.a)({},n.card),{},{backgroundImage:"url(".concat(null===o||void 0===o?void 0:o.sprites.front_default,")")}),children:a?Object(k.jsx)("article",{style:n.name,children:"Loading..."}):Object(k.jsx)("article",{style:n.name,children:s})})}function D(){var e=F(C().state),t=Object(P.a)("pokeBall",R),n=t.isLoading,r=t.data,i=Object(L.a)("getAll",T,{getNextPageParam:function(e,t){if(e.next)return Object(B.parse)(new URL(e.next).search.slice(1)).offset}}),c=i.data,o=i.error,s=i.fetchNextPage,d=i.hasNextPage,l=i.isFetchingNextPage,u=i.status,g=a.a.useCallback((function(){document.addEventListener("scroll",(function(){return function(e,t){var n=document.querySelector("html");n&&n.scrollTop>=n.scrollHeight-window.innerHeight&&t&&e()}(s,d)}))}),[s,d]);if(a.a.useEffect((function(){g()}),[g]),"loading"===u)return Object(k.jsx)(G,{});if("error"===u)return Object(k.jsx)(I,{error:o});var h=c.pages;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{style:e.grid,children:h.map((function(e){return e.results.map((function(e){return Object(k.jsx)(W,{resource:e},e.name)}))}))}),!n&&l?Object(k.jsx)("img",{src:r.sprites.default,alt:"Loading",style:e.spinner}):Object(k.jsx)(N,{})]})}function z(){return Object(k.jsx)("div",{})}var A=new l.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function H(){var e=a.a.useState(""),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){A.fetchQuery("pokeBall",R).then((function(e){i(e.sprites.default)}))}),[]),Object(k.jsx)(S,{children:Object(k.jsx)(v.Consumer,{children:function(e){e.dispatch;var t=function(e,t){var n=e.palette,r=e.spacing,a=window.innerWidth,i=a<=480?"3rem":"5rem",c=a<=480?60:90;return{app:{backgroundColor:n.background.default,color:n.text.primary,minHeight:"100%",overflow:"scroll"},header:{alignItems:"center",display:"flex",fontSize:i,fontWeight:300,justifyContent:"center",marginBottom:"2rem",marginLeft:r,marginRight:r},logo:{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"150%",height:c,imageRendering:"pixelated",width:c},table:{margin:32,width:"90%"}}}(e.state,n);return Object(k.jsx)(u.a,{client:A,children:Object(k.jsxs)("main",{style:t.app,children:[Object(k.jsxs)("h1",{style:t.header,children:["POK\xc9",Object(k.jsx)("span",{style:t.logo}),"DEX"]}),Object(k.jsx)(s.a,{children:Object(k.jsx)(d.c,{children:Object(k.jsxs)(d.a,{path:"/",exact:!0,children:[Object(k.jsx)(D,{}),Object(k.jsx)(z,{})]})})})]})})}})})}var q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(H,{})}),document.getElementById("root")),q()}},[[47,1,2]]]);
//# sourceMappingURL=main.3677d733.chunk.js.map