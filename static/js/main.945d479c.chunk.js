(this["webpackJsonpreact-context"]=this["webpackJsonpreact-context"]||[]).push([[0],{38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(30),c=n.n(i),o=(n(38),n(21)),s=n(20),d=n(5),l=n(50),u=n(32),g=n(13),h={light:"#fff",main:"#f2f2f2",dark:"#999"},f={light:"#666",main:"#4d4d4d",dark:"#333",contrastText:h.main},b=["#f2f2f2","#e5e5e5","#999","#666","#4d4d4d","#333","#000"],j={oranges:{light:"#f6a683",main:"#f26c32",dark:"#b14f25",contrastText:h.main},darkShades:f,lightShades:h,blues:{light:"#9cdaee",main:"#00b2e2",dark:"#007797"},greens:{light:"#b6e8cb",main:"#49c57e",dark:"#36905c"},yellows:{light:"#fd37a8",main:"#ffc82b",dark:"bb9320"},lightOranges:{light:"#fcd4b5",main:"#fe9646",dark:"#ba6e33"},reds:{light:"#f49c92",main:"#ef5b4b",dark:"#af4337"},teals:{light:"#b2dfdb",main:"#36c8b5",dark:"#289385",contrastText:f.dark},lightGrays:{light:b[1],main:b[2],dark:b[6]}},p={palette:{primary:j.oranges,secondary:j.teals,error:j.reds,grey:{50:b[0],100:b[1],400:b[2],600:b[3],700:b[4],800:b[5]},text:{primary:j.darkShades.main,secondary:j.darkShades.dark,disabled:j.lightGrays.main,hint:j.lightGrays.light},background:{default:j.lightShades.main,paper:j.lightShades.light},type:"light"}},m={palette:{primary:j.oranges,secondary:j.lightShades,error:j.reds,grey:{50:b[0],100:b[1],400:b[2],600:b[3],700:b[4],800:b[5]},text:{primary:j.lightShades.light,secondary:j.lightShades.main,disabled:j.lightGrays.main,hint:j.lightGrays.light},background:{default:j.darkShades.dark,paper:j.darkShades.main},type:"dark"}},x={fontSize:20},O=n.p+"static/media/pokeball.a508475f.png",k=n(2),v=Object(g.a)(Object(g.a)({},m),{},{spacing:8,text:x,logo:O}),y=a.a.createContext({dispatch:function(){},state:v});function w(e,t){switch(t){case"light":return Object(g.a)(Object(g.a)({},p),{},{logo:O,spacing:8,text:x});default:return v}}function C(e){var t=e.children,n=a.a.useReducer(w,v),r=Object(o.a)(n,2),i=r[0],c={dispatch:r[1],state:i};return Object(k.jsx)(y.Provider,{value:c,children:t})}function S(){var e=a.a.useContext(y);if(!e)throw new Error("useAccess must be used within a AccessProvider");return e}var P=n(49),B=n(51),L=n(31),R=function(e){return"https://pokeapi.co/api/v2/".concat(e||"")};function I(){return fetch(R("item/poke-ball")).then((function(e){return e.json()}))}function E(e){var t=e.pageParam;return fetch(R("pokemon?offset=".concat(void 0===t?0:t,"&limit=66"))).then((function(e){return e.json()}))}var T=window.innerWidth<=480,F=function(e){var t=e.error;return Object(k.jsxs)("div",{children:["Error: ",t.message]})};function W(e){var t=e.resource,n=e.style,r=function(e){var t=e.palette,n=e.spacing,r=T?112:128;return{card:{alignItems:"flex-end",backgroundColor:"#555",backgroundPositionX:"center",backgroundRepeat:"no-repeat",border:"2px solid ".concat("#222"),color:t.text.primary,display:"flex",height:r,imageRendering:"pixelated",justifyContent:"center",lineBreak:"normal",margin:n/2,textDecoration:"none",width:r},name:{backgroundColor:"#888",borderTop:"2px solid ".concat("#aaa"),padding:n,width:"100%"}}}(S().state),a=Object(P.a)(t.url,(function(){return e=t.url,fetch(e).then((function(e){return e.json()}));var e})),i=a.isLoading,c=a.error,o=a.data;if(c)return Object(k.jsx)(F,{error:c});var d=o,l=d?d.name.replace(/^\w/,(function(e){return e.toUpperCase()})):"";console.log("here",n);var u=function(e){var t=e.children;return n?Object(k.jsx)("section",{style:Object(g.a)(Object(g.a)({},r.card),{},{backgroundImage:"url(".concat(null===d||void 0===d?void 0:d.sprites.front_default,")")},n),children:t}):Object(k.jsx)(s.b,{style:Object(g.a)(Object(g.a)({},r.card),{},{backgroundImage:"url(".concat(null===d||void 0===d?void 0:d.sprites.front_default,")")},n),to:"/".concat(null===d||void 0===d?void 0:d.id),children:t})};return Object(k.jsx)(u,{children:i?Object(k.jsx)("article",{style:r.name,children:"Loading..."}):Object(k.jsx)("article",{style:r.name,children:l})})}var D=window.innerWidth<=480,G=function(e){var t=e.error;return Object(k.jsxs)("div",{children:["Error: ",t.message]})},N=function(){return Object(k.jsx)("div",{children:"Loading..."})},z=function(){return Object(k.jsx)("div",{style:{marginTop:32,marginBottom:64}})};function A(){var e=function(e){e.palette;var t=e.spacing,n=D?45:60;return{grid:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:D?0:2*t},spinner:{animationDuration:"1s",animationIterationCount:"infinite",animationName:"rotateBall",animationDirection:"forwards",transformOrigin:"center center",height:n,imageRendering:"pixelated",margin:2*t,marginBottom:3*t,width:n}}}(S().state),t=Object(P.a)("pokeBall",I),n=t.isLoading,r=t.data,i=Object(B.a)("getAll",E,{getNextPageParam:function(e,t){if(e.next)return Object(L.parse)(new URL(e.next).search.slice(1)).offset}}),c=i.data,o=i.error,s=i.fetchNextPage,d=i.hasNextPage,l=i.isFetchingNextPage,u=i.status,g=a.a.useCallback((function(){document.addEventListener("scroll",(function(){return function(e,t){var n=document.querySelector("html");n&&n.scrollTop>=n.scrollHeight-window.innerHeight&&t&&e()}(s,d)}))}),[s,d]);if(a.a.useEffect((function(){g()}),[g]),"loading"===u)return Object(k.jsx)(N,{});if("error"===u)return Object(k.jsx)(G,{error:o});var h=c.pages;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{style:e.grid,children:h.map((function(e){return e.results.map((function(e){return Object(k.jsx)(W,{resource:e},e.name)}))}))}),!n&&l?Object(k.jsx)("img",{src:r.sprites.default,alt:"Loading",style:e.spinner}):Object(k.jsx)(z,{})]})}window.innerWidth;function H(){var e,t=((e=S().state).palette,e.spacing,{detailCard:{alignItems:"flex-end",backgroundColor:"#555",backgroundSize:"100%",backgroundPositionX:"center",backgroundRepeat:"no-repeat",border:"2px solid ".concat("#222"),display:"flex",imageRendering:"pixelated",justifyContent:"center",height:256,lineBreak:"normal",margin:"0 auto",width:256}}),n=Object(d.f)().id,r=R("pokemon/".concat(n));return Object(k.jsx)(W,{resource:{name:"",url:r},style:t.detailCard})}var X=new l.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function q(){var e=a.a.useState(""),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){X.fetchQuery("pokeBall",I).then((function(e){i(e.sprites.default)}))}),[]),Object(k.jsx)(C,{children:Object(k.jsx)(y.Consumer,{children:function(e){e.dispatch;var t=function(e,t){var n=e.palette,r=e.spacing,a=window.innerWidth,i=a<=480?"3rem":"5rem",c=a<=480?60:90;return{app:{backgroundColor:n.background.default,color:n.text.primary,minHeight:"100%",overflow:"scroll"},header:{alignItems:"center",display:"flex",fontSize:i,fontWeight:300,justifyContent:"center",marginBottom:"2rem",marginLeft:r,marginRight:r},logo:{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"150%",height:c,imageRendering:"pixelated",width:c},table:{margin:32,width:"90%"}}}(e.state,n);return Object(k.jsx)(u.a,{client:X,children:Object(k.jsxs)("main",{style:t.app,children:[Object(k.jsxs)("h1",{style:t.header,children:["POK\xc9",Object(k.jsx)("span",{style:t.logo}),"DEX"]}),Object(k.jsx)(s.a,{children:Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{path:"/",exact:!0,children:Object(k.jsx)(A,{})}),Object(k.jsx)(d.a,{path:"/:id",children:Object(k.jsx)(H,{})})]})})]})})}})})}var J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(q,{})}),document.getElementById("root")),J()}},[[47,1,2]]]);
//# sourceMappingURL=main.945d479c.chunk.js.map