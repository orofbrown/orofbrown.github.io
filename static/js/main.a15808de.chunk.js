(this["webpackJsonpreact-context"]=this["webpackJsonpreact-context"]||[]).push([[0],{38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(30),c=n.n(i),o=(n(38),n(21)),d=n(20),s=n(5),l=n(50),u=n(32),g=n(7),h={light:"#fff",main:"#f2f2f2",dark:"#999"},f={light:"#666",main:"#4d4d4d",dark:"#333",contrastText:h.main},b=["#f2f2f2","#e5e5e5","#999","#666","#4d4d4d","#333","#000"],j={oranges:{light:"#f6a683",main:"#f26c32",dark:"#b14f25",contrastText:h.main},darkShades:f,lightShades:h,blues:{light:"#9cdaee",main:"#00b2e2",dark:"#007797"},greens:{light:"#b6e8cb",main:"#49c57e",dark:"#36905c"},yellows:{light:"#fd37a8",main:"#ffc82b",dark:"bb9320"},lightOranges:{light:"#fcd4b5",main:"#fe9646",dark:"#ba6e33"},reds:{light:"#f49c92",main:"#ef5b4b",dark:"#af4337"},teals:{light:"#b2dfdb",main:"#36c8b5",dark:"#289385",contrastText:f.dark},lightGrays:{light:b[1],main:b[2],dark:b[6]}},p={palette:{primary:j.oranges,secondary:j.teals,error:j.reds,grey:{50:b[0],100:b[1],400:b[2],600:b[3],700:b[4],800:b[5]},text:{primary:j.darkShades.main,secondary:j.darkShades.dark,disabled:j.lightGrays.main,hint:j.lightGrays.light},background:{default:j.lightShades.main,paper:j.lightShades.light},type:"light"}},m={palette:{primary:j.oranges,secondary:j.lightShades,error:j.reds,grey:{50:b[0],100:b[1],400:b[2],600:b[3],700:b[4],800:b[5]},text:{primary:j.lightShades.light,secondary:j.lightShades.main,disabled:j.lightGrays.main,hint:j.lightGrays.light},background:{default:j.darkShades.dark,paper:j.darkShades.main},type:"dark"}},x={fontSize:20},O=n.p+"static/media/pokeball.a508475f.png",k=n(2),y=Object(g.a)(Object(g.a)({},m),{},{spacing:8,text:x,logo:O}),v=a.a.createContext({dispatch:function(){},state:y});function w(e,t){switch(t){case"light":return Object(g.a)(Object(g.a)({},p),{},{logo:O,spacing:8,text:x});default:return y}}function C(e){var t=e.children,n=a.a.useReducer(w,y),r=Object(o.a)(n,2),i=r[0],c={dispatch:r[1],state:i};return Object(k.jsx)(v.Provider,{value:c,children:t})}function S(){var e=a.a.useContext(v);if(!e)throw new Error("useAccess must be used within a AccessProvider");return e}var P=n(49),L=n(51),R=n(31),B=function(e){return"https://pokeapi.co/api/v2/".concat(e||"")};function I(){return fetch(B("item/poke-ball")).then((function(e){return e.json()}))}function E(e){var t=e.pageParam;return fetch(B("pokemon?offset=".concat(void 0===t?0:t,"&limit=66"))).then((function(e){return e.json()}))}function T(e){return fetch(e).then((function(e){return e.json()}))}var W=function(){return Object(k.jsx)("div",{style:{marginTop:32,marginBottom:64}})},G=function(e){var t=e.error;return Object(k.jsxs)("div",{children:["Error: ",null===t||void 0===t?void 0:t.message]})},N=function(){return Object(k.jsx)("div",{children:"Loading..."})},z=function(e){var t=e.children,n=e.error,r=e.isLoading;return n?Object(k.jsx)(G,{error:n}):r?Object(k.jsx)(N,{}):t},D=window.innerWidth<=480;function A(e){var t=e.resource,n=e.style,r=function(e){var t=e.palette,n=e.spacing,r=D?112:128;return{card:{alignItems:"flex-end",backgroundColor:"#555",backgroundPositionX:"center",backgroundRepeat:"no-repeat",border:"2px solid ".concat("#222"),color:t.text.primary,display:"flex",height:r,imageRendering:"pixelated",justifyContent:"center",lineBreak:"normal",margin:n/2,textDecoration:"none",width:r},name:{backgroundColor:"#888",borderTop:"2px solid ".concat("#aaa"),padding:n,width:"100%"}}}(S().state),a=Object(P.a)(t.url,(function(){return T(t.url)})),i={isLoading:a.isLoading,error:a.error},c=a.data,o=c?c.name.replace(/^\w/,(function(e){return e.toUpperCase()})):"";return Object(k.jsx)(d.b,{style:Object(g.a)(Object(g.a)(Object(g.a)({},r.card),n),{},{backgroundImage:"url(".concat(null===c||void 0===c?void 0:c.sprites.front_default,")")}),to:"/".concat(null===c||void 0===c?void 0:c.id),children:Object(k.jsx)(z,Object(g.a)(Object(g.a)({},i),{},{children:Object(k.jsx)("article",{style:r.name,children:o})}))})}var F=window.innerWidth<=480;function H(){var e=function(e){e.palette;var t=e.spacing,n=F?45:60;return{grid:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:F?0:2*t},spinner:{animationDuration:"1s",animationIterationCount:"infinite",animationName:"rotateBall",animationDirection:"forwards",transformOrigin:"center center",height:n,imageRendering:"pixelated",margin:2*t,marginBottom:3*t,width:n}}}(S().state),t=Object(P.a)("pokeBall",I),n=t.isLoading,r=t.data,i=Object(L.a)("getAll",E,{getNextPageParam:function(e,t){if(e.next)return Object(R.parse)(new URL(e.next).search.slice(1)).offset}}),c=i.data,o=i.error,d=i.fetchNextPage,s=i.hasNextPage,l=i.isFetchingNextPage,u=i.status,g=a.a.useCallback((function(){document.addEventListener("scroll",(function(){return function(e,t){var n=document.querySelector("html");n&&n.scrollTop>=n.scrollHeight-window.innerHeight&&t&&e()}(d,s)}))}),[d,s]);if(a.a.useEffect((function(){g()}),[g]),"loading"===u)return Object(k.jsx)(N,{});if("error"===u)return Object(k.jsx)(G,{error:o});var h=c.pages;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{style:e.grid,children:h.map((function(e){return e.results.map((function(e){return Object(k.jsx)(A,{resource:e},e.name)}))}))}),!n&&l?Object(k.jsx)("img",{src:r.sprites.default,alt:"Loading",style:e.spinner}):Object(k.jsx)(W,{})]})}function U(){var e=function(e){e.palette;var t=e.spacing;return{detailCard:{alignItems:"flex-end",backgroundColor:"#555",backgroundSize:"100%",backgroundPositionX:"center",backgroundRepeat:"no-repeat",border:"2px solid ".concat("#222"),display:"flex",imageRendering:"pixelated",justifyContent:"center",height:256,lineBreak:"normal",margin:"0 auto",width:256},name:{backgroundColor:"#888",borderTop:"2px solid ".concat("#aaa"),padding:t,width:"100%"}}}(S().state),t=Object(s.f)().id,n=B("pokemon/".concat(t)),r=Object(P.a)(n,(function(){return T(n)})),a=r.isLoading,i=r.error,c=r.data,o={isLoading:a,error:i},d=c?c.name.replace(/^\w/,(function(e){return e.toUpperCase()})):"";return Object(k.jsx)("div",{children:Object(k.jsx)("section",{style:Object(g.a)(Object(g.a)({},e.detailCard),{},{backgroundImage:"url(".concat(null===c||void 0===c?void 0:c.sprites.front_default,")")}),children:Object(k.jsx)(z,Object(g.a)(Object(g.a)({},o),{},{children:Object(k.jsx)("article",{style:e.name,children:d})}))})})}var X=new l.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function q(){var e=a.a.useState(""),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){X.fetchQuery("pokeBall",I).then((function(e){i(e.sprites.default)}))}),[]),Object(k.jsx)(C,{children:Object(k.jsx)(v.Consumer,{children:function(e){e.dispatch;var t=function(e,t){var n=e.palette,r=e.spacing,a=window.innerWidth,i=a<=480?"3rem":"5rem",c=a<=480?60:90;return{app:{backgroundColor:n.background.default,color:n.text.primary,minHeight:"100%",overflow:"scroll"},header:{alignItems:"center",display:"flex",fontSize:i,fontWeight:300,justifyContent:"center",marginBottom:"2rem",marginLeft:r,marginRight:r},logo:{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"150%",height:c,imageRendering:"pixelated",width:c},table:{margin:32,width:"90%"}}}(e.state,n);return Object(k.jsx)(u.a,{client:X,children:Object(k.jsxs)("main",{style:t.app,children:[Object(k.jsxs)("h1",{style:t.header,children:["POK\xc9",Object(k.jsx)("span",{style:t.logo}),"DEX"]}),Object(k.jsx)(d.a,{children:Object(k.jsxs)(s.c,{children:[Object(k.jsx)(s.a,{path:"/",exact:!0,children:Object(k.jsx)(H,{})}),Object(k.jsx)(s.a,{path:"/:id",children:Object(k.jsx)(U,{})})]})})]})})}})})}c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(q,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.a15808de.chunk.js.map